<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: transparent;
  margin: 0;
  padding: 0;
  user-select: none;
}

.game-container {
  max-width: 1000px;
  margin: 60px auto;
  padding: 0 40px;
}

.game-header {
  text-align: center;
  margin-bottom: 40px;
}

.game-title {
  font-size: 2.5rem;
  color: #0f6868;
  font-weight: 700;
  margin-bottom: 15px;
}

.game-subtitle {
  font-size: 1.1rem;
  color: #0f6868;
  line-height: 1.6;
  margin-bottom: 20px;
}

/* Role Selection Screen */
.role-selection {
  background: white;
  padding: 50px;
  border-radius: 20px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
}

.role-selection-title {
  font-size: 2rem;
  color: #0f6868;
  font-weight: 700;
  text-align: center;
  margin-bottom: 30px;
}

.roles-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 25px;
}

.role-card {
  background: linear-gradient(135deg, #f8f9fa, #ffffff);
  padding: 30px 25px;
  border-radius: 16px;
  border: 3px solid transparent;
  cursor: pointer;
  transition: all 0.3s ease;
  text-align: center;
}

.role-card:hover {
  border-color: #1a8a8a;
  transform: translateY(-8px);
  box-shadow: 0 12px 30px rgba(26, 138, 138, 0.2);
}

.role-icon {
  font-size: 4rem;
  margin-bottom: 20px;
}

.role-name {
  font-size: 1.3rem;
  color: #0f6868;
  font-weight: 700;
  margin-bottom: 12px;
}

.role-description {
  font-size: 0.95rem;
  color: #5a7070;
  line-height: 1.6;
}

/* Game Screen */
.game-screen {
  display: none;
}

.game-screen.active {
  display: block;
}

.stats-bar {
  display: flex;
  justify-content: space-between;
  background: white;
  padding: 20px 30px;
  border-radius: 16px;
  margin-bottom: 30px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.stat-item {
  text-align: center;
}

.stat-label {
  font-size: 0.85rem;
  color: #5a7070;
  font-weight: 600;
  margin-bottom: 5px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.stat-value {
  font-size: 1.5rem;
  color: #1a8a8a;
  font-weight: 700;
}

.scenario-card {
  background: white;
  padding: 40px;
  border-radius: 20px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
  margin-bottom: 30px;
  animation: slideIn 0.5s ease;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.scenario-header {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-bottom: 25px;
  padding-bottom: 20px;
  border-bottom: 3px solid #2dd4bf;
}

.scenario-icon {
  font-size: 3rem;
}

.scenario-info {
  flex: 1;
}

.scenario-number {
  font-size: 0.85rem;
  color: #1a8a8a;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 5px;
}

.scenario-title {
  font-size: 1.5rem;
  color: #0f6868;
  font-weight: 700;
}

.scenario-text {
  font-size: 1.15rem;
  color: #2d3d3d;
  line-height: 1.8;
  margin-bottom: 30px;
}

.choices {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.choice-btn {
  background: white;
  padding: 20px 25px;
  border: 3px solid #e0e0e0;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
  text-align: left;
  font-size: 1.05rem;
  color: #2d3d3d;
  font-weight: 600;
  position: relative;
}

.choice-text {
  margin-bottom: 12px;
}

.choice-consequences {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  font-size: 0.85rem;
  font-weight: 600;
  margin-top: 10px;
}

.consequence-tag {
  padding: 4px 10px;
  border-radius: 6px;
  display: flex;
  align-items: center;
  gap: 4px;
}

.consequence-tag.morale {
  background: #dbeafe;
  color: #1e40af;
}

.consequence-tag.value {
  background: #d1fae5;
  color: #065f46;
}

.consequence-tag.velocity {
  background: #fef3c7;
  color: #92400e;
}

.choice-btn:hover {
  border-color: #1a8a8a;
  transform: translateX(10px);
  box-shadow: 0 4px 15px rgba(26, 138, 138, 0.2);
}

.choice-btn::before {
  content: '‚Üí';
  position: absolute;
  right: 25px;
  top: 50%;
  transform: translateY(-50%);
  opacity: 0;
  transition: opacity 0.3s ease;
  color: #1a8a8a;
  font-size: 1.5rem;
}

.choice-btn:hover::before {
  opacity: 1;
}

/* Outcome Screen */
.outcome-screen {
  background: white;
  padding: 40px;
  border-radius: 20px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
  text-align: center;
  display: none;
  animation: popIn 0.5s ease;
}

.outcome-screen.show {
  display: block;
}

@keyframes popIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.outcome-icon {
  font-size: 5rem;
  margin-bottom: 20px;
}

.outcome-title {
  font-size: 2rem;
  color: #0f6868;
  font-weight: 700;
  margin-bottom: 20px;
}

.outcome-text {
  font-size: 1.15rem;
  color: #2d3d3d;
  line-height: 1.8;
  margin-bottom: 25px;
}

.impact-changes {
  display: flex;
  justify-content: center;
  gap: 30px;
  margin-bottom: 30px;
}

.impact-item {
  padding: 15px 25px;
  border-radius: 10px;
  font-weight: 700;
  font-size: 1.1rem;
}

.impact-item.positive {
  background: #d1fae5;
  color: #065f46;
}

.impact-item.negative {
  background: #fee2e2;
  color: #991b1b;
}

.impact-item.neutral {
  background: #e0f2fe;
  color: #075985;
}

.continue-btn {
  background: linear-gradient(135deg, #1a8a8a, #2dd4bf);
  color: white;
  padding: 15px 40px;
  border: none;
  border-radius: 10px;
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.continue-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(26, 138, 138, 0.3);
}

/* Final Results */
.final-results {
  background: white;
  padding: 50px;
  border-radius: 20px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
  text-align: center;
  display: none;
}

.final-results.show {
  display: block;
}

.final-icon {
  font-size: 6rem;
  margin-bottom: 20px;
}

.final-title {
  font-size: 2.5rem;
  color: #0f6868;
  font-weight: 700;
  margin-bottom: 20px;
}

.final-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  margin-bottom: 30px;
}

.final-stat {
  background: linear-gradient(135deg, rgba(26, 138, 138, 0.1), rgba(45, 212, 191, 0.1));
  padding: 20px;
  border-radius: 12px;
}

.final-stat-label {
  font-size: 0.9rem;
  color: #5a7070;
  font-weight: 600;
  margin-bottom: 8px;
}

.final-stat-value {
  font-size: 2rem;
  color: #1a8a8a;
  font-weight: 700;
}

.final-message {
  font-size: 1.2rem;
  color: #2d3d3d;
  line-height: 1.8;
  margin-bottom: 30px;
}

.restart-btn {
  background: linear-gradient(135deg, #1a8a8a, #2dd4bf);
  color: white;
  padding: 15px 40px;
  border: none;
  border-radius: 10px;
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.restart-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(26, 138, 138, 0.3);
}

@media (max-width: 768px) {
  .game-container {
    padding: 0 20px;
    margin: 40px auto;
  }
  
  .game-title {
    font-size: 2rem;
  }
  
  .roles-grid {
    grid-template-columns: 1fr;
  }
  
  .stats-bar {
    flex-wrap: wrap;
    gap: 15px;
  }
  
  .impact-changes {
    flex-direction: column;
    gap: 15px;
  }
  
  .final-stats {
    grid-template-columns: 1fr;
  }
}
</style>
</head>
<body>
<div class="game-container">
  <div class="game-header">
    <h2 class="game-title">üé≠ Scrum Role-Playing Game</h2>
    <p class="game-subtitle">Choose your role and make decisions that shape your team's success!</p>
  </div>
  
  <!-- Role Selection Screen -->
  <div class="role-selection" id="role-selection">
    <h3 class="role-selection-title">Choose Your Scrum Role</h3>
    <div class="roles-grid">
      <div class="role-card" onclick="selectRole('po')">
        <div class="role-icon">üëî</div>
        <div class="role-name">Product Owner</div>
        <div class="role-description">Maximize product value and manage the backlog</div>
      </div>
      
      <div class="role-card" onclick="selectRole('sm')">
        <div class="role-icon">üéØ</div>
        <div class="role-name">Scrum Master</div>
        <div class="role-description">Facilitate team and remove impediments</div>
      </div>
      
      <div class="role-card" onclick="selectRole('dev')">
        <div class="role-icon">üíª</div>
        <div class="role-name">Developer</div>
        <div class="role-description">Build and deliver high-quality increments</div>
      </div>
    </div>
  </div>
  
  <!-- Game Screen -->
  <div class="game-screen" id="game-screen">
    <div class="stats-bar">
      <div class="stat-item">
        <div class="stat-label">Team Morale</div>
        <div class="stat-value" id="morale">100</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">Product Value</div>
        <div class="stat-value" id="value">100</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">Velocity</div>
        <div class="stat-value" id="velocity">100</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">Scenario</div>
        <div class="stat-value" id="scenario-count">1/5</div>
      </div>
    </div>
    
    <div class="scenario-card" id="scenario-card"></div>
  </div>
  
  <!-- Outcome Screen -->
  <div class="outcome-screen" id="outcome-screen">
    <div class="outcome-icon" id="outcome-icon"></div>
    <div class="outcome-title" id="outcome-title"></div>
    <div class="outcome-text" id="outcome-text"></div>
    <div class="impact-changes" id="impact-changes"></div>
    <button class="continue-btn" onclick="nextScenario()">Continue</button>
  </div>
  
  <!-- Final Results -->
  <div class="final-results" id="final-results">
    <div class="final-icon" id="final-icon"></div>
    <div class="final-title">Game Complete!</div>
    <div class="final-stats">
      <div class="final-stat">
        <div class="final-stat-label">Final Morale</div>
        <div class="final-stat-value" id="final-morale"></div>
      </div>
      <div class="final-stat">
        <div class="final-stat-label">Final Value</div>
        <div class="final-stat-value" id="final-value"></div>
      </div>
      <div class="final-stat">
        <div class="final-stat-label">Final Velocity</div>
        <div class="final-stat-value" id="final-velocity"></div>
      </div>
    </div>
    <div class="final-message" id="final-message"></div>
    <button class="restart-btn" onclick="location.reload()">Play Again</button>
  </div>
</div>

<script>
let selectedRole = '';
let currentScenario = 0;
let stats = {
  morale: 100,
  value: 100,
  velocity: 100
};

const scenarios = {
  po: [
    {
      icon: 'üìä',
      title: 'Conflicting Priorities',
      text: 'The CEO wants a new feature immediately, but your users are asking for bug fixes. The development team is at capacity.',
      choices: [
        {
          text: 'Prioritize the CEO\'s feature to keep leadership happy',
          consequences: { morale: -10, value: -15, velocity: -5 },
          outcome: {
            icon: 'üòê',
            title: 'Leadership Happy, Users Frustrated',
            text: 'The CEO is pleased, but user complaints increased 40%. The team had to rush, affecting quality and creating technical debt.',
            impact: { morale: -10, value: -15, velocity: -5 }
          }
        },
        {
          text: 'Focus on bug fixes based on user feedback data',
          consequences: { morale: 10, value: 15, velocity: 5 },
          outcome: {
            icon: 'üòä',
            title: 'Users Satisfied, CEO Informed',
            text: 'You showed the CEO data proving bug fixes provide more value. User satisfaction increased 25%. Team morale improved.',
            impact: { morale: 10, value: 15, velocity: 5 }
          }
        },
        {
          text: 'Negotiate a compromise: minimal viable feature + critical bugs',
          consequences: { morale: 5, value: 5, velocity: 0 },
          outcome: {
            icon: 'ü§ù',
            title: 'Balanced Approach',
            text: 'Both sides got something. Team appreciated the balanced workload and delivered both items successfully.',
            impact: { morale: 5, value: 5, velocity: 0 }
          }
        }
      ]
    },
    {
      icon: 'üí∞',
      title: 'Budget Pressure',
      text: 'Finance wants to cut the team size by 20% to reduce costs. This will impact your delivery timeline.',
      choices: [
        {
          text: 'Accept the cuts and reduce scope proportionally',
          consequences: { morale: -5, value: -10, velocity: -10 },
          outcome: {
            icon: 'üìâ',
            title: 'Scope Reduced',
            text: 'You adjusted the roadmap. Stakeholders were disappointed but understood the constraints. Team lost key members.',
            impact: { morale: -5, value: -10, velocity: -10 }
          }
        },
        {
          text: 'Present an ROI analysis showing the cost of delays',
          consequences: { morale: 15, value: 10, velocity: 10 },
          outcome: {
            icon: 'üìà',
            title: 'Budget Preserved',
            text: 'Your data convinced finance. The team stayed intact and velocity increased. Leadership respects your analytical approach.',
            impact: { morale: 15, value: 10, velocity: 10 }
          }
        },
        {
          text: 'Propose outsourcing non-critical work instead',
          consequences: { morale: 0, value: -5, velocity: -10 },
          outcome: {
            icon: 'ü§î',
            title: 'Mixed Results',
            text: 'Outsourcing saved money but created communication overhead. Handoffs slow down delivery.',
            impact: { morale: 0, value: -5, velocity: -10 }
          }
        }
      ]
    },
    {
      icon: 'üéØ',
      title: 'Scope Creep',
      text: 'Mid-sprint, a major client requests an "urgent" feature. The team already committed to this sprint\'s work.',
      choices: [
        {
          text: 'Add it to the current sprint immediately',
          consequences: { morale: -20, value: -10, velocity: -15 },
          outcome: {
            icon: 'üòì',
            title: 'Sprint Overloaded',
            text: 'Team is stressed and nothing got finished properly. Quality suffered. Sprint goal missed completely.',
            impact: { morale: -20, value: -10, velocity: -15 }
          }
        },
        {
          text: 'Add to backlog for next sprint after proper refinement',
          consequences: { morale: 10, value: 10, velocity: 10 },
          outcome: {
            icon: '‚úÖ',
            title: 'Proper Process Followed',
            text: 'Client understood after explanation. Team respected the decision and maintained focus. Sprint delivered successfully.',
            impact: { morale: 10, value: 10, velocity: 10 }
          }
        },
        {
          text: 'Negotiate pulling one item out to make room',
          consequences: { morale: 0, value: 5, velocity: -5 },
          outcome: {
            icon: '‚öñÔ∏è',
            title: 'Trade-off Made',
            text: 'Team accommodated the change while maintaining sprint integrity. Some context switching occurred.',
            impact: { morale: 0, value: 5, velocity: -5 }
          }
        }
      ]
    },
    {
      icon: 'üìã',
      title: 'Backlog Chaos',
      text: 'Your backlog has grown to 200+ items. The team is confused about priorities and stakeholders keep adding more.',
      choices: [
        {
          text: 'Continue adding items as stakeholders request',
          consequences: { morale: -15, value: -20, velocity: -15 },
          outcome: {
            icon: 'üòµ',
            title: 'Backlog Explosion',
            text: 'Team is paralyzed by options. Analysis paralysis sets in. Nothing valuable gets delivered. Stakeholders frustrated.',
            impact: { morale: -15, value: -20, velocity: -15 }
          }
        },
        {
          text: 'Freeze the backlog and refine top 20 items only',
          consequences: { morale: 20, value: 15, velocity: 15 },
          outcome: {
            icon: 'üéØ',
            title: 'Clear Focus',
            text: 'Team appreciated the clarity. Velocity and morale improved significantly. Delivered high-value features.',
            impact: { morale: 20, value: 15, velocity: 15 }
          }
        },
        {
          text: 'Archive items older than 6 months',
          consequences: { morale: 10, value: 5, velocity: 5 },
          outcome: {
            icon: 'üóÇÔ∏è',
            title: 'Backlog Cleaned',
            text: 'Removed stale items. Team had better focus but some stakeholders were upset about "lost" ideas.',
            impact: { morale: 10, value: 5, velocity: 5 }
          }
        }
      ]
    },
    {
      icon: 'üöÄ',
      title: 'Release Decision',
      text: 'The planned release date is tomorrow, but QA found several minor bugs. Marketing already announced the date.',
      choices: [
        {
          text: 'Release on time with known bugs',
          consequences: { morale: -15, value: -25, velocity: -10 },
          outcome: {
            icon: 'üêõ',
            title: 'Buggy Release',
            text: 'Users reported issues immediately. Customer support overwhelmed. Trust damaged. Team spent next sprint firefighting.',
            impact: { morale: -15, value: -25, velocity: -10 }
          }
        },
        {
          text: 'Delay release until bugs are fixed',
          consequences: { morale: 10, value: 20, velocity: 5 },
          outcome: {
            icon: '‚ú®',
            title: 'Quality First',
            text: 'Marketing was upset but release was smooth. Users praised the stability. Long-term trust built.',
            impact: { morale: 10, value: 20, velocity: 5 }
          }
        },
        {
          text: 'Release with feature flags to enable gradually',
          consequences: { morale: 15, value: 15, velocity: 10 },
          outcome: {
            icon: 'üéõÔ∏è',
            title: 'Smart Rollout',
            text: 'Bugs were caught early with limited impact. Team learned valuable lesson. Progressive delivery worked perfectly.',
            impact: { morale: 15, value: 15, velocity: 10 }
          }
        }
      ]
    }
  ],
  sm: [
    {
      icon: 'ü§ù',
      title: 'Team Conflict',
      text: 'Two senior developers are arguing during Sprint Planning. One wants to refactor code, the other wants to add features.',
      choices: [
        {
          text: 'Side with the developer pushing for features',
          consequences: { morale: -15, value: 5, velocity: -10 },
          outcome: {
            icon: 'üòü',
            title: 'Conflict Escalated',
            text: 'The other developer felt unheard and morale dropped. Technical debt grew. One developer considering leaving.',
            impact: { morale: -15, value: 5, velocity: -10 }
          }
        },
        {
          text: 'Facilitate a discussion to find common ground',
          consequences: { morale: 15, value: 10, velocity: 10 },
          outcome: {
            icon: 'ü§ù',
            title: 'Compromise Reached',
            text: 'Team agreed to allocate 20% time for refactoring. Both felt heard and collaboration improved.',
            impact: { morale: 15, value: 10, velocity: 10 }
          }
        },
        {
          text: 'Suggest a technical spike to assess refactoring needs',
          consequences: { morale: 10, value: 5, velocity: 0 },
          outcome: {
            icon: 'üîç',
            title: 'Data-Driven Decision',
            text: 'Spike revealed critical refactoring needs. Team made informed decision based on evidence.',
            impact: { morale: 10, value: 5, velocity: 0 }
          }
        }
      ]
    },
    {
      icon: '‚è∞',
      title: 'Meeting Overload',
      text: 'The team complains that they spend 4 hours in meetings daily. Daily Scrums are taking 45 minutes.',
      choices: [
        {
          text: 'Keep all meetings as they are - they\'re important',
          consequences: { morale: -20, value: -15, velocity: -20 },
          outcome: {
            icon: 'üò´',
            title: 'Team Burnout',
            text: 'Developers are frustrated and productivity plummeted. Some are looking for other jobs. Actual work time shrinking.',
            impact: { morale: -20, value: -15, velocity: -20 }
          }
        },
        {
          text: 'Strictly time-box Daily Scrum to 15 minutes',
          consequences: { morale: 20, value: 15, velocity: 20 },
          outcome: {
            icon: '‚ö°',
            title: 'Efficiency Improved',
            text: 'Team appreciated the focus. Productivity increased significantly. More time for actual development.',
            impact: { morale: 20, value: 15, velocity: 20 }
          }
        },
        {
          text: 'Survey team and eliminate unnecessary meetings',
          consequences: { morale: 15, value: 10, velocity: 15 },
          outcome: {
            icon: 'üìä',
            title: 'Meeting Optimization',
            text: 'Removed 2 meetings per week. Team felt empowered and engaged. Balance restored.',
            impact: { morale: 15, value: 10, velocity: 15 }
          }
        }
      ]
    },
    {
      icon: 'üöß',
      title: 'Impediment Blocking Progress',
      text: 'The team needs access to production data but IT says it takes 2 weeks for security approval. Sprint goal at risk.',
      choices: [
        {
          text: 'Tell the team to wait for IT approval',
          consequences: { morale: -15, value: -20, velocity: -15 },
          outcome: {
            icon: 'üòê',
            title: 'Sprint Failed',
            text: 'Sprint goal wasn\'t met. Team felt you didn\'t fight for them. Trust in Scrum Master role decreased.',
            impact: { morale: -15, value: -20, velocity: -15 }
          }
        },
        {
          text: 'Escalate to leadership immediately',
          consequences: { morale: 20, value: 20, velocity: 15 },
          outcome: {
            icon: 'üöÄ',
            title: 'Impediment Removed',
            text: 'Got approval in 2 days. Team appreciated your advocacy and delivered successfully. Demonstrated Scrum Master value.',
            impact: { morale: 20, value: 20, velocity: 15 }
          }
        },
        {
          text: 'Help team find a workaround with mock data',
          consequences: { morale: 10, value: 10, velocity: 5 },
          outcome: {
            icon: 'üîß',
            title: 'Creative Solution',
            text: 'Team found an alternative path. Sprint goal adjusted but delivered value. Problem-solving skills improved.',
            impact: { morale: 10, value: 10, velocity: 5 }
          }
        }
      ]
    },
    {
      icon: 'üìö',
      title: 'Process Compliance',
      text: 'Leadership wants detailed status reports, daily task tracking, and weekly presentations. Team says this isn\'t Agile.',
      choices: [
        {
          text: 'Comply with all leadership requests',
          consequences: { morale: -20, value: -10, velocity: -20 },
          outcome: {
            icon: 'üìÑ',
            title: 'Bureaucracy Wins',
            text: 'Team spends hours on reports. Velocity dropped and morale suffered. Agile principles abandoned.',
            impact: { morale: -20, value: -10, velocity: -20 }
          }
        },
        {
          text: 'Educate leadership on Agile metrics and transparency',
          consequences: { morale: 20, value: 15, velocity: 20 },
          outcome: {
            icon: 'üí°',
            title: 'Leadership Buy-In',
            text: 'Showed them burndown charts and demos. They understood and reduced reporting. Trust in Agile increased.',
            impact: { morale: 20, value: 15, velocity: 20 }
          }
        },
        {
          text: 'Create automated dashboards to reduce manual work',
          consequences: { morale: 15, value: 10, velocity: 10 },
          outcome: {
            icon: 'üìä',
            title: 'Smart Solution',
            text: 'Leadership got their visibility, team kept their time. Win-win solution. Demonstrated Scrum Master creativity.',
            impact: { morale: 15, value: 10, velocity: 10 }
          }
        }
      ]
    },
    {
      icon: 'üéì',
      title: 'Team Development',
      text: 'A junior developer is struggling and slowing down the team. Some team members want them removed from critical work.',
      choices: [
        {
          text: 'Remove them from the sprint to maintain velocity',
          consequences: { morale: -25, value: 5, velocity: 10 },
          outcome: {
            icon: 'üò¢',
            title: 'Trust Broken',
            text: 'Junior felt abandoned. Team learned they\'re not safe to fail. Psychological safety destroyed. Future collaboration damaged.',
            impact: { morale: -25, value: 5, velocity: 10 }
          }
        },
        {
          text: 'Pair them with a senior developer for learning',
          consequences: { morale: 20, value: 15, velocity: 15 },
          outcome: {
            icon: 'üå±',
            title: 'Team Growth',
            text: 'Junior improved rapidly. Team culture strengthened through mentorship. Long-term velocity increased.',
            impact: { morale: 20, value: 15, velocity: 15 }
          }
        },
        {
          text: 'Assign them simpler tasks to build confidence',
          consequences: { morale: 10, value: 10, velocity: 5 },
          outcome: {
            icon: 'üìà',
            title: 'Gradual Improvement',
            text: 'Junior gained confidence and contributed meaningfully. Steady progress made. Team supported growth.',
            impact: { morale: 10, value: 10, velocity: 5 }
          }
        }
      ]
    }
  ],
  dev: [
    {
      icon: 'üêõ',
      title: 'Technical Debt',
      text: 'You\'ve discovered critical technical debt that could cause major issues. Product Owner wants you to focus on new features only.',
      choices: [
        {
          text: 'Ignore the debt and build new features as requested',
          consequences: { morale: -20, value: -25, velocity: -20 },
          outcome: {
            icon: 'üí•',
            title: 'System Crash',
            text: 'Two sprints later, production crashed. Spent a week in emergency fixes. Customer trust lost.',
            impact: { morale: -20, value: -25, velocity: -20 }
          }
        },
        {
          text: 'Explain the risks and request time for refactoring',
          consequences: { morale: 15, value: 20, velocity: 15 },
          outcome: {
            icon: 'üîß',
            title: 'Debt Addressed',
            text: 'PO understood after seeing the data. System stability improved significantly. Team proud of quality work.',
            impact: { morale: 15, value: 20, velocity: 15 }
          }
        },
        {
          text: 'Secretly fix it while working on features',
          consequences: { morale: 5, value: 5, velocity: -10 },
          outcome: {
            icon: 'üò¨',
            title: 'Risky Move',
            text: 'Fixed the debt but features were rushed. Mixed results. Transparency issues created.',
            impact: { morale: 5, value: 5, velocity: -10 }
          }
        }
      ]
    },
    {
      icon: '‚è±Ô∏è',
      title: 'Unrealistic Deadline',
      text: 'Product Owner committed to a client that you\'ll deliver a complex feature in 3 days. You estimated 2 weeks.',
      choices: [
        {
          text: 'Work overtime to try to meet the commitment',
          consequences: { morale: -25, value: -15, velocity: -20 },
          outcome: {
            icon: 'üòµ',
            title: 'Burnout',
            text: 'Worked 60-hour weeks. Delivered buggy code and got sick. Quality suffered. Unsustainable pace set.',
            impact: { morale: -25, value: -15, velocity: -20 }
          }
        },
        {
          text: 'Explain why the estimate was 2 weeks',
          consequences: { morale: 15, value: 20, velocity: 10 },
          outcome: {
            icon: 'üìä',
            title: 'Realistic Expectations Set',
            text: 'PO renegotiated with client. Delivered quality work on realistic timeline. Trust in estimates increased.',
            impact: { morale: 15, value: 20, velocity: 10 }
          }
        },
        {
          text: 'Deliver a minimal version in 3 days',
          consequences: { morale: 10, value: 15, velocity: 5 },
          outcome: {
            icon: 'üéØ',
            title: 'MVP Delivered',
            text: 'Client got core functionality. Iterated based on feedback. Agile principles demonstrated.',
            impact: { morale: 10, value: 15, velocity: 5 }
          }
        }
      ]
    },
    {
      icon: 'ü§ù',
      title: 'Pair Programming Debate',
      text: 'Scrum Master suggests pair programming for a complex feature. You prefer working solo and think it\'s twice as slow.',
      choices: [
        {
          text: 'Refuse and work alone',
          consequences: { morale: -10, value: -10, velocity: -15 },
          outcome: {
            icon: 'üö´',
            title: 'Missed Opportunity',
            text: 'Made mistakes that would\'ve been caught by pairing. Took longer to fix. Collaboration culture weakened.',
            impact: { morale: -10, value: -10, velocity: -15 }
          }
        },
        {
          text: 'Try pair programming for this feature',
          consequences: { morale: 15, value: 20, velocity: 10 },
          outcome: {
            icon: 'üéØ',
            title: 'Better Quality',
            text: 'Caught bugs early and learned new techniques. Feature was solid. Knowledge sharing improved.',
            impact: { morale: 15, value: 20, velocity: 10 }
          }
        },
        {
          text: 'Suggest pairing for code review instead',
          consequences: { morale: 10, value: 10, velocity: 5 },
          outcome: {
            icon: 'üëÄ',
            title: 'Compromise',
            text: 'Got feedback without constant pairing. Good middle ground. Code quality improved.',
            impact: { morale: 10, value: 10, velocity: 5 }
          }
        }
      ]
    },
    {
      icon: 'üìù',
      title: 'Testing Responsibility',
      text: 'QA is overwhelmed. Scrum Master asks developers to write more automated tests. You have a full sprint backlog.',
      choices: [
        {
          text: 'Say testing is QA\'s job, not yours',
          consequences: { morale: -15, value: -20, velocity: -20 },
          outcome: {
            icon: 'üêõ',
            title: 'Quality Issues',
            text: 'Bugs slipped through. Customer complaints increased. Spent sprints fixing. Definition of Done compromised.',
            impact: { morale: -15, value: -20, velocity: -20 }
          }
        },
        {
          text: 'Include test writing in your Definition of Done',
          consequences: { morale: 20, value: 25, velocity: 15 },
          outcome: {
            icon: '‚úÖ',
            title: 'Quality Culture',
            text: 'Bugs decreased dramatically. Releases became smooth. Team pride increased. Long-term velocity improved.',
            impact: { morale: 20, value: 25, velocity: 15 }
          }
        },
        {
          text: 'Write tests only for critical paths',
          consequences: { morale: 10, value: 15, velocity: 5 },
          outcome: {
            icon: '‚öñÔ∏è',
            title: 'Balanced Approach',
            text: 'Major bugs caught. Still some minor issues but manageable. Pragmatic solution adopted.',
            impact: { morale: 10, value: 15, velocity: 5 }
          }
        }
      ]
    },
    {
      icon: 'üí°',
      title: 'Innovation vs Stability',
      text: 'You want to try a new technology that could improve performance, but it\'s unproven and adds risk to the sprint.',
      choices: [
        {
          text: 'Use the new tech immediately in production code',
          consequences: { morale: -10, value: -15, velocity: -20 },
          outcome: {
            icon: '‚ö†Ô∏è',
            title: 'Risky Decision',
            text: 'New tech had issues. Spent sprint debugging instead of delivering features. Sprint goal missed.',
            impact: { morale: -10, value: -15, velocity: -20 }
          }
        },
        {
          text: 'Stick with proven technology',
          consequences: { morale: 0, value: 5, velocity: 5 },
          outcome: {
            icon: 'üòê',
            title: 'Safe but Stagnant',
            text: 'Delivered reliably but missed improvement opportunities. Technical debt accumulated.',
            impact: { morale: 0, value: 5, velocity: 5 }
          }
        },
        {
          text: 'Build a proof-of-concept first',
          consequences: { morale: 20, value: 20, velocity: 15 },
          outcome: {
            icon: 'üî¨',
            title: 'Smart Innovation',
            text: 'Validated the tech worked. Adopted it gradually with great results. Demonstrated responsible innovation.',
            impact: { morale: 20, value: 20, velocity: 15 }
          }
        }
      ]
    }
  ]
};

function selectRole(role) {
  selectedRole = role;
  document.getElementById('role-selection').style.display = 'none';
  document.getElementById('game-screen').classList.add('active');
  loadScenario();
}

function loadScenario() {
  const scenario = scenarios[selectedRole][currentScenario];
  
  document.getElementById('scenario-count').textContent = `${currentScenario + 1}/5`;
  
  const scenarioCard = document.getElementById('scenario-card');
  scenarioCard.innerHTML = `
    <div class="scenario-header">
      <div class="scenario-icon">${scenario.icon}</div>
      <div class="scenario-info">
        <div class="scenario-number">Scenario ${currentScenario + 1}</div>
        <div class="scenario-title">${scenario.title}</div>
      </div>
    </div>
    <div class="scenario-text">${scenario.text}</div>
    <div class="choices" id="choices"></div>
  `;
  
  const choicesContainer = document.getElementById('choices');
  scenario.choices.forEach((choice, index) => {
    const btn = document.createElement('button');
    btn.className = 'choice-btn';
    
    // Add consequences display if available
    let consequencesHTML = '';
    if (choice.consequences) {
      consequencesHTML = '<div class="choice-consequences">';
      if (choice.consequences.morale !== 0) {
        const sign = choice.consequences.morale > 0 ? '+' : '';
        consequencesHTML += `<span class="consequence-tag morale">üòä Morale: ${sign}${choice.consequences.morale}</span>`;
      }
      if (choice.consequences.value !== 0) {
        const sign = choice.consequences.value > 0 ? '+' : '';
        consequencesHTML += `<span class="consequence-tag value">üíé Value: ${sign}${choice.consequences.value}</span>`;
      }
      if (choice.consequences.velocity !== 0) {
        const sign = choice.consequences.velocity > 0 ? '+' : '';
        consequencesHTML += `<span class="consequence-tag velocity">‚ö° Velocity: ${sign}${choice.consequences.velocity}</span>`;
      }
      consequencesHTML += '</div>';
    }
    
    btn.innerHTML = `<div class="choice-text">${choice.text}</div>${consequencesHTML}`;
    btn.onclick = () => makeChoice(index);
    choicesContainer.appendChild(btn);
  });
  
  updateStats();
}

function makeChoice(choiceIndex) {
  const scenario = scenarios[selectedRole][currentScenario];
  const choice = scenario.choices[choiceIndex];
  const outcome = choice.outcome;
  
  // Update stats
  stats.morale += outcome.impact.morale;
  stats.value += outcome.impact.value;
  stats.velocity += outcome.impact.velocity;
  
  // Ensure stats stay within bounds
  stats.morale = Math.max(0, Math.min(100, stats.morale));
  stats.value = Math.max(0, Math.min(100, stats.value));
  stats.velocity = Math.max(0, Math.min(100, stats.velocity));
  
  // Show outcome
  document.getElementById('outcome-icon').textContent = outcome.icon;
  document.getElementById('outcome-title').textContent = outcome.title;
  document.getElementById('outcome-text').textContent = outcome.text;
  
  // Show impact
  const impactContainer = document.getElementById('impact-changes');
  impactContainer.innerHTML = '';
  
  if (outcome.impact.morale !== 0) {
    const impactClass = outcome.impact.morale > 0 ? 'positive' : 'negative';
    const impactSign = outcome.impact.morale > 0 ? '+' : '';
    impactContainer.innerHTML += `<div class="impact-item ${impactClass}">Morale: ${impactSign}${outcome.impact.morale}</div>`;
  }
  
  if (outcome.impact.value !== 0) {
    const impactClass = outcome.impact.value > 0 ? 'positive' : 'negative';
    const impactSign = outcome.impact.value > 0 ? '+' : '';
    impactContainer.innerHTML += `<div class="impact-item ${impactClass}">Value: ${impactSign}${outcome.impact.value}</div>`;
  }
  
  if (outcome.impact.velocity !== 0) {
    const impactClass = outcome.impact.velocity > 0 ? 'positive' : 'negative';
    const impactSign = outcome.impact.velocity > 0 ? '+' : '';
    impactContainer.innerHTML += `<div class="impact-item ${impactClass}">Velocity: ${impactSign}${outcome.impact.velocity}</div>`;
  }
  
  document.getElementById('game-screen').classList.remove('active');
  document.getElementById('outcome-screen').classList.add('show');
}

function nextScenario() {
  document.getElementById('outcome-screen').classList.remove('show');
  
  currentScenario++;
  
  if (currentScenario < 5) {
    document.getElementById('game-screen').classList.add('active');
    loadScenario();
  } else {
    showFinalResults();
  }
}

function updateStats() {
  document.getElementById('morale').textContent = stats.morale;
  document.getElementById('value').textContent = stats.value;
  document.getElementById('velocity').textContent = stats.velocity;
}

function showFinalResults() {
  const avgScore = Math.round((stats.morale + stats.value + stats.velocity) / 3);
  
  document.getElementById('final-morale').textContent = stats.morale;
  document.getElementById('final-value').textContent = stats.value;
  document.getElementById('final-velocity').textContent = stats.velocity;
  
  let icon = '';
  let message = '';
  
  if (avgScore >= 90) {
    icon = 'üèÜ';
    message = 'Outstanding! You\'re a natural Scrum leader. Your decisions consistently improved team performance and delivered exceptional value.';
  } else if (avgScore >= 75) {
    icon = 'üåü';
    message = 'Great job! You made solid decisions that balanced team needs with product goals. Your team would be lucky to have you.';
  } else if (avgScore >= 60) {
    icon = 'üëç';
    message = 'Good effort! You navigated most situations well. With more experience, you\'ll become an even stronger Scrum practitioner.';
  } else {
    icon = 'üìö';
    message = 'Keep learning! Scrum roles require balancing competing priorities. Review Scrum principles and try again to improve your decisions.';
  }
  
  document.getElementById('final-icon').textContent = icon;
  document.getElementById('final-message').textContent = message;
  document.getElementById('final-results').classList.add('show');
}
</script>
</body>
</html>
